

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dlg.manager &mdash; daliuge 0.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="dlg.apps" href="apps.html" />
    <link rel="prev" title="dlg" href="dlg.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> daliuge
          

          
          </a>

          
            
            
              <div class="version">
                0.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_development.html">Graph development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing_an_application.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Using the Logical Graph Editor</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api-index.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dlg.html">dlg</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">dlg.manager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.manager.session">dlg.manager.session</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.manager.drop_manager">dlg.manager.drop_manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.manager.node_manager">dlg.manager.node_manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.manager.composite_manager">dlg.manager.composite_manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.manager.rest">dlg.manager.rest</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.manager.client">dlg.manager.client</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="apps.html">dlg.apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="dropmake.html">dlg.dropmake</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">daliuge</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../api-index.html">API</a> &raquo;</li>
        
      <li>dlg.manager</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/manager.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-dlg.manager">
<span id="dlg-manager"></span><h1><a class="toc-backref" href="#id1">dlg.manager</a><a class="headerlink" href="#module-dlg.manager" title="Permalink to this headline">¶</a></h1>
<p>This package contains all python modules implementing the DROP
Manager concepts, including their external interface, a web UI and a client</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-dlg.manager" id="id1">dlg.manager</a></p>
<ul>
<li><p><a class="reference internal" href="#module-dlg.manager.session" id="id2">dlg.manager.session</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.manager.drop_manager" id="id3">dlg.manager.drop_manager</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.manager.node_manager" id="id4">dlg.manager.node_manager</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.manager.composite_manager" id="id5">dlg.manager.composite_manager</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.manager.rest" id="id6">dlg.manager.rest</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.manager.client" id="id7">dlg.manager.client</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="module-dlg.manager.session">
<span id="dlg-manager-session"></span><h2><a class="toc-backref" href="#id2">dlg.manager.session</a><a class="headerlink" href="#module-dlg.manager.session" title="Permalink to this headline">¶</a></h2>
<p>Module containing the logic of a session – a given graph execution</p>
</div>
<div class="section" id="module-dlg.manager.drop_manager">
<span id="dlg-manager-drop-manager"></span><h2><a class="toc-backref" href="#id3">dlg.manager.drop_manager</a><a class="headerlink" href="#module-dlg.manager.drop_manager" title="Permalink to this headline">¶</a></h2>
<p>Module containing the base interface for all DROP managers.</p>
<dl class="py class">
<dt id="dlg.manager.drop_manager.DROPManager">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.drop_manager.</code><code class="sig-name descname">DROPManager</code><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all DROPManagers.</p>
<p>A DROPManager, as the name states, manages the creation and execution of
DROPs. In order to support parallel DROP graphs execution, a DROPManager
separates them into “sessions”.</p>
<dl class="simple">
<dt>Sessions follow a simple lifecycle:</dt><dd><ul class="simple">
<li><p>They are created in the PRISTINE status</p></li>
<li><p>One or more graph specifications are appended to them, which can also
be linked together, building up the final graph specification. While
building the graph the session is in the BUILDING status.</p></li>
<li><p>Once all graph specifications have been appended and linked together,
the graph is deployed, meaning that the DROPs are effectively created.
During this process the session transitions between the DEPLOYING and
RUNNING states.</p></li>
<li><p>One all DROPs contained in a session have transitioned to COMPLETED (or
ERROR, if there has been an error during the execution) the session moves
to FINISHED.</p></li>
</ul>
</dd>
</dl>
<p>Graph specifications are currently accepted in the form of a list of
dictionaries, where each dictionary is a DROP specification. A DROP
specification in turn consists on key/value pairs in the dictionary which
state the type of DROP, some key parameters, and instance-specific
parameters as well used to create the DROP.</p>
<dl class="py method">
<dt id="dlg.manager.drop_manager.DROPManager.addGraphSpec">
<em class="property">abstract </em><code class="sig-name descname">addGraphSpec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em>, <em class="sig-param"><span class="n">graphSpec</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager.addGraphSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a graph specification <cite>graphSpec</cite> (i.e., a description of the DROPs
that should be created) to the current graph specification held by
session <cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.drop_manager.DROPManager.cancelSession">
<em class="property">abstract </em><code class="sig-name descname">cancelSession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager.cancelSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels the session <cite>sessionId</cite></p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.drop_manager.DROPManager.createSession">
<em class="property">abstract </em><code class="sig-name descname">createSession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager.createSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a session on this DROPManager with id <cite>sessionId</cite>. A session
represents an isolated DROP graph execution.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.drop_manager.DROPManager.deploySession">
<em class="property">abstract </em><code class="sig-name descname">deploySession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em>, <em class="sig-param"><span class="n">completedDrops</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager.deploySession" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploys the graph specification held by session <cite>sessionId</cite>, effectively
creating all DROPs, linking them together, and moving those whose UID
is in <cite>completedDrops</cite> to the COMPLETED state.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.drop_manager.DROPManager.destroySession">
<em class="property">abstract </em><code class="sig-name descname">destroySession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager.destroySession" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroys the session <cite>sessionId</cite></p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.drop_manager.DROPManager.getGraph">
<em class="property">abstract </em><code class="sig-name descname">getGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager.getGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a specification of the graph currently held by session
<cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.drop_manager.DROPManager.getGraphSize">
<em class="property">abstract </em><code class="sig-name descname">getGraphSize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager.getGraphSize" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of drops contained in the physical graph attached
to <code class="docutils literal notranslate"><span class="pre">sessionId</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.drop_manager.DROPManager.getGraphStatus">
<em class="property">abstract </em><code class="sig-name descname">getGraphStatus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager.getGraphStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status of the graph being executed in session <cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.drop_manager.DROPManager.getSessionIds">
<em class="property">abstract </em><code class="sig-name descname">getSessionIds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager.getSessionIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the IDs of the sessions currently held by this DROPManager.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.drop_manager.DROPManager.getSessionStatus">
<em class="property">abstract </em><code class="sig-name descname">getSessionStatus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.drop_manager.DROPManager.getSessionStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status of the session <cite>sessionId</cite>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dlg.manager.node_manager">
<span id="dlg-manager-node-manager"></span><h2><a class="toc-backref" href="#id4">dlg.manager.node_manager</a><a class="headerlink" href="#module-dlg.manager.node_manager" title="Permalink to this headline">¶</a></h2>
<p>Module containing the NodeManager, which directly manages DROP instances, and
thus represents the bottom of the DROP management hierarchy.</p>
<dl class="py class">
<dt id="dlg.manager.node_manager.ErrorStatusListener">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.node_manager.</code><code class="sig-name descname">ErrorStatusListener</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">session</span></em>, <em class="sig-param"><span class="n">error_listener</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.ErrorStatusListener" title="Permalink to this definition">¶</a></dt>
<dd><p>An event listener that passes down the erroneous drop to an error handler</p>
</dd></dl>

<dl class="py attribute">
<dt id="dlg.manager.node_manager.EventMixIn">
<code class="sig-prename descclassname">dlg.manager.node_manager.</code><code class="sig-name descname">EventMixIn</code><a class="headerlink" href="#dlg.manager.node_manager.EventMixIn" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#dlg.manager.node_manager.ZMQPubSubMixIn" title="dlg.manager.node_manager.ZMQPubSubMixIn"><code class="xref py py-class docutils literal notranslate"><span class="pre">dlg.manager.node_manager.ZMQPubSubMixIn</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="dlg.manager.node_manager.NodeManager">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.node_manager.</code><code class="sig-name descname">NodeManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">useDLM</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dlgPath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">error_listener</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">event_listeners</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">max_threads</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">host</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rpc_port</span><span class="o">=</span><span class="default_value">6666</span></em>, <em class="sig-param"><span class="n">events_port</span><span class="o">=</span><span class="default_value">5555</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManager" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dlg.manager.node_manager.NodeManager.shutdown">
<code class="sig-name descname">shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManager.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops any pending background task run by this Node Manager</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.manager.node_manager.NodeManagerBase">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.node_manager.</code><code class="sig-name descname">NodeManagerBase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">useDLM</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dlgPath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">error_listener</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">event_listeners</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">max_threads</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for a DROPManager that creates and holds references to DROPs.</p>
<p>A NodeManagerBase is the ultimate responsible of handling DROPs. It does so not
directly, but via Sessions, which represent and encapsulate separate,
independent DROP graph executions. All DROPs created by the
different Sessions are also given to a common DataLifecycleManager, which
takes care of expiring them when needed and replicating them.</p>
<p>Since a NodeManagerBase can handle more than one session, in principle only one
NodeManagerBase is needed for each computing node, thus its name.</p>
<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.addGraphSpec">
<code class="sig-name descname">addGraphSpec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em>, <em class="sig-param"><span class="n">graphSpec</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.addGraphSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a graph specification <cite>graphSpec</cite> (i.e., a description of the DROPs
that should be created) to the current graph specification held by
session <cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.cancelSession">
<code class="sig-name descname">cancelSession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.cancelSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels the session <cite>sessionId</cite></p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.createSession">
<code class="sig-name descname">createSession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.createSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a session on this DROPManager with id <cite>sessionId</cite>. A session
represents an isolated DROP graph execution.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.deliver_event">
<code class="sig-name descname">deliver_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evt</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.deliver_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called by subclasses when a new event has arrived through the
subscription mechanism.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.deploySession">
<code class="sig-name descname">deploySession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em>, <em class="sig-param"><span class="n">completedDrops</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.deploySession" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploys the graph specification held by session <cite>sessionId</cite>, effectively
creating all DROPs, linking them together, and moving those whose UID
is in <cite>completedDrops</cite> to the COMPLETED state.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.destroySession">
<code class="sig-name descname">destroySession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.destroySession" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroys the session <cite>sessionId</cite></p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.getGraph">
<code class="sig-name descname">getGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.getGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a specification of the graph currently held by session
<cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.getGraphSize">
<code class="sig-name descname">getGraphSize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.getGraphSize" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of drops contained in the physical graph attached
to <code class="docutils literal notranslate"><span class="pre">sessionId</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.getGraphStatus">
<code class="sig-name descname">getGraphStatus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.getGraphStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status of the graph being executed in session <cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.getSessionIds">
<code class="sig-name descname">getSessionIds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.getSessionIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the IDs of the sessions currently held by this DROPManager.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.getSessionStatus">
<code class="sig-name descname">getSessionStatus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.getSessionStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status of the session <cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.get_rpc_client">
<em class="property">abstract </em><code class="sig-name descname">get_rpc_client</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hostname</span></em>, <em class="sig-param"><span class="n">port</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.get_rpc_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an RPC client connected to the node manager running in
<code class="docutils literal notranslate"><span class="pre">host</span></code>:<code class="docutils literal notranslate"><span class="pre">port</span></code>, and its closing method, as a 2-tuple.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.publish_event">
<em class="property">abstract </em><code class="sig-name descname">publish_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evt</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.publish_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Publishes the event <code class="docutils literal notranslate"><span class="pre">evt</span></code> for other Node Managers to receive it</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.shutdown">
<em class="property">abstract </em><code class="sig-name descname">shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops any pending background task run by this Node Manager</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.start">
<em class="property">abstract </em><code class="sig-name descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts any background task required by this Node Manager</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.NodeManagerBase.subscribe">
<em class="property">abstract </em><code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">host</span></em>, <em class="sig-param"><span class="n">port</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.NodeManagerBase.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribes this Node Manager to events published in from <code class="docutils literal notranslate"><span class="pre">host</span></code>:<code class="docutils literal notranslate"><span class="pre">port</span></code></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.manager.node_manager.RpcMixIn">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.node_manager.</code><code class="sig-name descname">RpcMixIn</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.RpcMixIn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="dlg.manager.node_manager.ZMQPubSubMixIn">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.node_manager.</code><code class="sig-name descname">ZMQPubSubMixIn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">host</span></em>, <em class="sig-param"><span class="n">events_port</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.ZMQPubSubMixIn" title="Permalink to this definition">¶</a></dt>
<dd><p>ZeroMQ-based event publisher and subscriber.</p>
<p>Event publishing and event reception are done in their own separate
threads, where the externally-facing ZeroMQ sockets are created and used.</p>
<p>Events to be published are fed into the publishing thread via a safe-thread
Queue object (self._events_out), enabling any local thread to publish events
without having to worry about ZeroMQ thread-safeness.</p>
<p>The event reception thread not only <em>receives</em> events, but also updates the
subscription socket to connect to new peers. These updates are fed via a
Queue object (self._subscriptions), enabling any local thread to indicate a
new peer to subscribe to in a thread-safe manner.</p>
<p>Note that we investigated not using Queue objects to communicate between
threads, and use inproc:// ZeroMQ sockets instead. This works, but at a
cost: all threads putting values into these sockets would need to check,
each time they use a socket in any manner, if the Context object is still
valid and hasn’t been closed (or alternatively if self._pubsub_running is
still True). Our experience with this alternative was not satisfactory, and
therefore we went for a Queue-based thread communication model, making the
handling of ZeroMQ resources simpler.</p>
<dl class="py class">
<dt id="dlg.manager.node_manager.ZMQPubSubMixIn.subscription">
<em class="property">class </em><code class="sig-name descname">subscription</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">endpoint</span></em>, <em class="sig-param"><span class="n">finished_evt</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.node_manager.ZMQPubSubMixIn.subscription" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dlg.manager.node_manager.ZMQPubSubMixIn.subscription.endpoint">
<em class="property">property </em><code class="sig-name descname">endpoint</code><a class="headerlink" href="#dlg.manager.node_manager.ZMQPubSubMixIn.subscription.endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.node_manager.ZMQPubSubMixIn.subscription.finished_evt">
<em class="property">property </em><code class="sig-name descname">finished_evt</code><a class="headerlink" href="#dlg.manager.node_manager.ZMQPubSubMixIn.subscription.finished_evt" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dlg.manager.composite_manager">
<span id="dlg-manager-composite-manager"></span><h2><a class="toc-backref" href="#id5">dlg.manager.composite_manager</a><a class="headerlink" href="#module-dlg.manager.composite_manager" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="dlg.manager.composite_manager.CompositeManager">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.composite_manager.</code><code class="sig-name descname">CompositeManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dmPort</span></em>, <em class="sig-param"><span class="n">partitionAttr</span></em>, <em class="sig-param"><span class="n">subDmId</span></em>, <em class="sig-param"><span class="n">dmHosts</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">pkeyPath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dmCheckTimeout</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager" title="Permalink to this definition">¶</a></dt>
<dd><p>A DROPManager that in turn manages DROPManagers (sigh…).</p>
<p>DROP Managers form a hierarchy where those at the bottom actually hold
DROPs while those in the levels above rely commands and aggregate results,
making the system more manageable and scalable. The CompositeManager class
implements the upper part of this hierarchy in a generic way by holding
references to a number of sub-DROPManagers and communicating with them to
complete each operation. The only assumption about sub-DROPManagers is that
they obey the DROPManager interface, and therefore this CompositeManager
class allows for multiple levels of hierarchy seamlessly.</p>
<p>Having different levels of Data Management hierarchy implies that the
physical graph that is fed into the hierarchy needs to be partitioned at
each level (except at the bottom of the hierarchy) in order to place each
DROP in its correct place. The attribute used by a particular
CompositeManager to partition the graph (from its graphSpec) is given at
construction time.</p>
<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.addGraphSpec">
<code class="sig-name descname">addGraphSpec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em>, <em class="sig-param"><span class="n">graphSpec</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.addGraphSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a graph specification <cite>graphSpec</cite> (i.e., a description of the DROPs
that should be created) to the current graph specification held by
session <cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.cancelSession">
<code class="sig-name descname">cancelSession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.cancelSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels a session in all underlying DMs.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.createSession">
<code class="sig-name descname">createSession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.createSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a session in all underlying DMs.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.deploySession">
<code class="sig-name descname">deploySession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em>, <em class="sig-param"><span class="n">completedDrops</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.deploySession" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploys the graph specification held by session <cite>sessionId</cite>, effectively
creating all DROPs, linking them together, and moving those whose UID
is in <cite>completedDrops</cite> to the COMPLETED state.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.destroySession">
<code class="sig-name descname">destroySession</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.destroySession" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy a session in all underlying DMs.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.getGraph">
<code class="sig-name descname">getGraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.getGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a specification of the graph currently held by session
<cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.getGraphSize">
<code class="sig-name descname">getGraphSize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.getGraphSize" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of drops contained in the physical graph attached
to <code class="docutils literal notranslate"><span class="pre">sessionId</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.getGraphStatus">
<code class="sig-name descname">getGraphStatus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.getGraphStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status of the graph being executed in session <cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.getSessionIds">
<code class="sig-name descname">getSessionIds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.getSessionIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the IDs of the sessions currently held by this DROPManager.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.getSessionStatus">
<code class="sig-name descname">getSessionStatus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.getSessionStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status of the session <cite>sessionId</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.manager.composite_manager.CompositeManager.replicate">
<code class="sig-name descname">replicate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sessionId</span></em>, <em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">action</span></em>, <em class="sig-param"><span class="n">collect</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">iterable</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.CompositeManager.replicate" title="Permalink to this definition">¶</a></dt>
<dd><p>Replicates the given function call on each of the underlying drop managers</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.manager.composite_manager.DataIslandManager">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.composite_manager.</code><code class="sig-name descname">DataIslandManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dmHosts</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">pkeyPath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dmCheckTimeout</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.DataIslandManager" title="Permalink to this definition">¶</a></dt>
<dd><p>The DataIslandManager, which manages a number of NodeManagers.</p>
</dd></dl>

<dl class="py class">
<dt id="dlg.manager.composite_manager.MasterManager">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.composite_manager.</code><code class="sig-name descname">MasterManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dmHosts</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">pkeyPath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dmCheckTimeout</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.composite_manager.MasterManager" title="Permalink to this definition">¶</a></dt>
<dd><p>The MasterManager, which manages a number of DataIslandManagers.</p>
</dd></dl>

</div>
<div class="section" id="module-dlg.manager.rest">
<span id="dlg-manager-rest"></span><h2><a class="toc-backref" href="#id6">dlg.manager.rest</a><a class="headerlink" href="#module-dlg.manager.rest" title="Permalink to this headline">¶</a></h2>
<p>Module containing the REST layer that exposes the methods of the different
Data Managers (DROPManager and DataIslandManager) to the outside world.</p>
<dl class="py class">
<dt id="dlg.manager.rest.CompositeManagerRestServer">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.rest.</code><code class="sig-name descname">CompositeManagerRestServer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dm</span></em>, <em class="sig-param"><span class="n">maxreqsize</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.rest.CompositeManagerRestServer" title="Permalink to this definition">¶</a></dt>
<dd><p>A REST server for DataIslandManagers. It includes mappings for DIM-specific
methods.</p>
<dl class="py method">
<dt id="dlg.manager.rest.CompositeManagerRestServer.initializeSpecifics">
<code class="sig-name descname">initializeSpecifics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">app</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.rest.CompositeManagerRestServer.initializeSpecifics" title="Permalink to this definition">¶</a></dt>
<dd><p>Methods through which subclasses can initialize other mappings on top of
the default ones and perform other DataManager-specific actions.
The default implementation does nothing.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.manager.rest.ManagerRestServer">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.rest.</code><code class="sig-name descname">ManagerRestServer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dm</span></em>, <em class="sig-param"><span class="n">maxreqsize</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.rest.ManagerRestServer" title="Permalink to this definition">¶</a></dt>
<dd><p>An object that wraps a DataManager and exposes its methods via a REST
interface. The server is started via the <cite>start</cite> method in a separate thread
and runs until the process is shut down.</p>
<p>This REST server currently also serves HTML pages in some of its methods
(i.e. those not under /api).</p>
<dl class="py method">
<dt id="dlg.manager.rest.ManagerRestServer.initializeSpecifics">
<code class="sig-name descname">initializeSpecifics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">app</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.rest.ManagerRestServer.initializeSpecifics" title="Permalink to this definition">¶</a></dt>
<dd><p>Methods through which subclasses can initialize other mappings on top of
the default ones and perform other DataManager-specific actions.
The default implementation does nothing.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.manager.rest.MasterManagerRestServer">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.rest.</code><code class="sig-name descname">MasterManagerRestServer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dm</span></em>, <em class="sig-param"><span class="n">maxreqsize</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.rest.MasterManagerRestServer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dlg.manager.rest.MasterManagerRestServer.initializeSpecifics">
<code class="sig-name descname">initializeSpecifics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">app</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.rest.MasterManagerRestServer.initializeSpecifics" title="Permalink to this definition">¶</a></dt>
<dd><p>Methods through which subclasses can initialize other mappings on top of
the default ones and perform other DataManager-specific actions.
The default implementation does nothing.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.manager.rest.NMRestServer">
<em class="property">class </em><code class="sig-prename descclassname">dlg.manager.rest.</code><code class="sig-name descname">NMRestServer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dm</span></em>, <em class="sig-param"><span class="n">maxreqsize</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.rest.NMRestServer" title="Permalink to this definition">¶</a></dt>
<dd><p>A REST server for NodeManagers. It includes mappings for NM-specific
methods and the mapping for the main visualization HTML pages.</p>
<dl class="py method">
<dt id="dlg.manager.rest.NMRestServer.initializeSpecifics">
<code class="sig-name descname">initializeSpecifics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">app</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.manager.rest.NMRestServer.initializeSpecifics" title="Permalink to this definition">¶</a></dt>
<dd><p>Methods through which subclasses can initialize other mappings on top of
the default ones and perform other DataManager-specific actions.
The default implementation does nothing.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dlg.manager.client">
<span id="dlg-manager-client"></span><h2><a class="toc-backref" href="#id7">dlg.manager.client</a><a class="headerlink" href="#module-dlg.manager.client" title="Permalink to this headline">¶</a></h2>
<p>Backwards compatibility for client</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="apps.html" class="btn btn-neutral float-right" title="dlg.apps" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dlg.html" class="btn btn-neutral float-left" title="dlg" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2020, ICRAR

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>