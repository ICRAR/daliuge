

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dlg &mdash; daliuge 0.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="dlg.manager" href="manager.html" />
    <link rel="prev" title="API" href="../api-index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> daliuge
          

          
          </a>

          
            
            
              <div class="version">
                0.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_development.html">Graph development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing_an_application.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Using the Logical Graph Editor</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api-index.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">dlg</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.event">dlg.event</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.io">dlg.io</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.drop">dlg.drop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.s3_drop">dlg.s3_drop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.droputils">dlg.droputils</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.utils">dlg.utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-dlg.graph_loader">dlg.graph_loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dlg-runtime-delayed">dlg.runtime.delayed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manager.html">dlg.manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html">dlg.apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="dropmake.html">dlg.dropmake</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">daliuge</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../api-index.html">API</a> &raquo;</li>
        
      <li>dlg</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/dlg.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-dlg">
<span id="dlg"></span><h1><a class="toc-backref" href="#id1">dlg</a><a class="headerlink" href="#module-dlg" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-dlg" id="id1">dlg</a></p>
<ul>
<li><p><a class="reference internal" href="#module-dlg.event" id="id2">dlg.event</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.io" id="id3">dlg.io</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.drop" id="id4">dlg.drop</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.s3_drop" id="id5">dlg.s3_drop</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.droputils" id="id6">dlg.droputils</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.utils" id="id7">dlg.utils</a></p></li>
<li><p><a class="reference internal" href="#module-dlg.graph_loader" id="id8">dlg.graph_loader</a></p></li>
<li><p><a class="reference internal" href="#dlg-runtime-delayed" id="id9">dlg.runtime.delayed</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="module-dlg.event">
<span id="dlg-event"></span><h2><a class="toc-backref" href="#id2">dlg.event</a><a class="headerlink" href="#module-dlg.event" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="dlg.event.Event">
<em class="property">class </em><code class="sig-prename descclassname">dlg.event.</code><code class="sig-name descname">Event</code><a class="headerlink" href="#dlg.event.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>An event sent through the DALiuGE framework.</p>
<p>Events have at least a field describing the type of event they are (instead
of having subclasses of the <cite>Event</cite> class), and therefore this class makes
sure that at least that field exists. Any other piece of information can be
attached to individual instances of this class, depending on the event type.</p>
</dd></dl>

<dl class="py class">
<dt id="dlg.event.EventFirer">
<em class="property">class </em><code class="sig-prename descclassname">dlg.event.</code><code class="sig-name descname">EventFirer</code><a class="headerlink" href="#dlg.event.EventFirer" title="Permalink to this definition">¶</a></dt>
<dd><p>An object that fires events.</p>
<p>Objects that have an interest on receiving events from this object subscribe
to it via the <cite>subscribe</cite> method; likewise they can unsubscribe from it via
the <cite>unsubscribe</cite> method. Events are handled to the listeners by calling
their <cite>handleEvent</cite> method with the event as its sole argument.</p>
<p>Listeners can specify the type of event they listen to at subscription time,
or can also prefer to receive all events fired by this object if they wish
so.</p>
<dl class="py method">
<dt id="dlg.event.EventFirer.subscribe">
<code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">listener</span></em>, <em class="sig-param"><span class="n">eventType</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.event.EventFirer.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribes <cite>listener</cite> to events fired by this object. If <cite>eventType</cite> is
not <cite>None</cite> then <cite>listener</cite> will only receive events of <cite>eventType</cite> that
originate from this object, otherwise it will receive all events.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.event.EventFirer.unsubscribe">
<code class="sig-name descname">unsubscribe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">listener</span></em>, <em class="sig-param"><span class="n">eventType</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.event.EventFirer.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsubscribes <cite>listener</cite> from events fired by this object.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dlg.io">
<span id="dlg-io"></span><h2><a class="toc-backref" href="#id3">dlg.io</a><a class="headerlink" href="#module-dlg.io" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="dlg.io.DataIO">
<em class="property">class </em><code class="sig-prename descclassname">dlg.io.</code><code class="sig-name descname">DataIO</code><a class="headerlink" href="#dlg.io.DataIO" title="Permalink to this definition">¶</a></dt>
<dd><p>A class used to read/write data stored in a particular kind of storage in an
abstract way. This base class simply declares a number of methods that
deriving classes must actually implement to handle different storage
mechanisms (e.g., a local filesystem or an NGAS server).</p>
<p>An instance of this class represents a particular piece of data. Thus at
construction time users must specify a storage-specific unique identifier
for the data that this object handles (e.g., a filename in the case of a
DataIO class that works with local filesystem storage, or a host:port/fileId
combination in the case of a class that works with an NGAS server).</p>
<p>Once an instance has been created it can be opened via its <cite>open</cite> method
indicating an open mode. If opened with <cite>OpenMode.OPEN_READ</cite>, only read
operations will be allowed on the instance, and if opened with
<cite>OpenMode.OPEN_WRITE</cite> only writing operations will be allowed.</p>
<dl class="py method">
<dt id="dlg.io.DataIO.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.DataIO.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the underlying storage where the data represented by this
instance is stored, freeing underlying resources.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.DataIO.delete">
<em class="property">abstract </em><code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.DataIO.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DataIO</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.DataIO.exists">
<em class="property">abstract </em><code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.DataIO.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DataIO exists indeed in
the underlying storage mechanism</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.DataIO.open">
<code class="sig-name descname">open</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mode</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.DataIO.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens the underlying storage where the data represented by this instance
is stored. Depending on the value of <cite>mode</cite> subsequent calls to
<cite>self.read</cite> or <cite>self.write</cite> will succeed or fail.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.DataIO.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">count</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.DataIO.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads <cite>count</cite> bytes from the underlying storage.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.DataIO.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.DataIO.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes <cite>data</cite> into the storage</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.io.ErrorIO">
<em class="property">class </em><code class="sig-prename descclassname">dlg.io.</code><code class="sig-name descname">ErrorIO</code><a class="headerlink" href="#dlg.io.ErrorIO" title="Permalink to this definition">¶</a></dt>
<dd><p>An DataIO method that throws exceptions if any of its methods is invoked</p>
<dl class="py method">
<dt id="dlg.io.ErrorIO.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.ErrorIO.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DataIO</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.ErrorIO.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.ErrorIO.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DataIO exists indeed in
the underlying storage mechanism</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.io.FileIO">
<em class="property">class </em><code class="sig-prename descclassname">dlg.io.</code><code class="sig-name descname">FileIO</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.FileIO" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dlg.io.FileIO.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.FileIO.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DataIO</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.FileIO.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.FileIO.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DataIO exists indeed in
the underlying storage mechanism</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="dlg.io.IOForURL">
<code class="sig-prename descclassname">dlg.io.</code><code class="sig-name descname">IOForURL</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.IOForURL" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a DataIO instance that handles the given URL for reading. If no
suitable DataIO class can be found to handle the URL, <cite>None</cite> is returned.</p>
</dd></dl>

<dl class="py class">
<dt id="dlg.io.MemoryIO">
<em class="property">class </em><code class="sig-prename descclassname">dlg.io.</code><code class="sig-name descname">MemoryIO</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buf</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.MemoryIO" title="Permalink to this definition">¶</a></dt>
<dd><p>A DataIO class that reads/write from/into the BytesIO object given at
construction time</p>
<dl class="py method">
<dt id="dlg.io.MemoryIO.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.MemoryIO.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DataIO</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.MemoryIO.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.MemoryIO.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DataIO exists indeed in
the underlying storage mechanism</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.io.NgasIO">
<em class="property">class </em><code class="sig-prename descclassname">dlg.io.</code><code class="sig-name descname">NgasIO</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hostname</span></em>, <em class="sig-param"><span class="n">fileId</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">7777</span></em>, <em class="sig-param"><span class="n">ngasConnectTimeout</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">ngasTimeout</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.NgasIO" title="Permalink to this definition">¶</a></dt>
<dd><p>A DROP whose data is finally stored into NGAS. Since NGAS doesn’t
support appending data to existing files, we store all the data temporarily
in a file on the local filesystem and then move it to the NGAS destination</p>
<dl class="py method">
<dt id="dlg.io.NgasIO.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.NgasIO.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DataIO</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.NgasIO.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.NgasIO.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DataIO exists indeed in
the underlying storage mechanism</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.io.NgasLiteIO">
<em class="property">class </em><code class="sig-prename descclassname">dlg.io.</code><code class="sig-name descname">NgasLiteIO</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hostname</span></em>, <em class="sig-param"><span class="n">fileId</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">7777</span></em>, <em class="sig-param"><span class="n">ngasConnectTimeout</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">ngasTimeout</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.NgasLiteIO" title="Permalink to this definition">¶</a></dt>
<dd><p>An IO class whose data is finally stored into NGAS. It uses the ngaslite
module of DALiuGE instead of the full client-side libraries provided by NGAS
itself, since they might not be installed everywhere.</p>
<p>The <cite>ngaslite</cite> module doesn’t support the STATUS command yet, and because of
that this class will throw an error if its <cite>exists</cite> method is invoked.</p>
<dl class="py method">
<dt id="dlg.io.NgasLiteIO.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.NgasLiteIO.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DataIO</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.NgasLiteIO.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.NgasLiteIO.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DataIO exists indeed in
the underlying storage mechanism</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.io.NullIO">
<em class="property">class </em><code class="sig-prename descclassname">dlg.io.</code><code class="sig-name descname">NullIO</code><a class="headerlink" href="#dlg.io.NullIO" title="Permalink to this definition">¶</a></dt>
<dd><p>A DataIO that stores no data</p>
<dl class="py method">
<dt id="dlg.io.NullIO.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.NullIO.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DataIO</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.io.NullIO.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.io.NullIO.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DataIO exists indeed in
the underlying storage mechanism</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dlg.drop">
<span id="dlg-drop"></span><span id="api-dlg-drop"></span><h2><a class="toc-backref" href="#id4">dlg.drop</a><a class="headerlink" href="#module-dlg.drop" title="Permalink to this headline">¶</a></h2>
<p>Module containing the core DROP classes.</p>
<dl class="py class">
<dt id="dlg.drop.AbstractDROP">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">AbstractDROP</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all DROP implementations.</p>
<p>A DROP is a representation of a piece of data. DROPs are created,
written once, potentially read many times, and they finally potentially
expire and get deleted. Subclasses implement different storage mechanisms
to hold the data represented by the DROP.</p>
<p>If the data represented by this DROP is written <em>through</em> this object
(i.e., calling the <code class="docutils literal notranslate"><span class="pre">write</span></code> method), this DROP will keep track of the
data’s size and checksum. If the data is written externally, the size and
checksum can be fed into this object for future reference.</p>
<p>DROPs can have consumers attached to them. ‘Normal’ consumers will
wait until the DROP they ‘consume’ (their ‘input’) moves to the
COMPLETED state and then will consume it, most typically by opening it
and reading its contents, but any other operation could also be performed.
How the consumption is triggered depends on the producer’s <cite>executionMode</cite>
flag, which dictates whether it should trigger the consumption itself or
if it should be manually triggered by an external entity. On the other hand,
streaming consumers receive the data that is written into its input
<em>as it gets written</em>. This mechanism is driven always by the DROP that
acts as a streaming input. Apart from receiving the data as it gets
written into the DROP, streaming consumers are also notified when the
DROPs moves to the COMPLETED state, at which point no more data should
be expected to arrive at the consumer side.</p>
<p>DROPs’ data can be expired automatically by the system after the DROP has
transitioned to the COMPLETED state if they are created by a DROP Manager.
Expiration can either be triggered by an interval relative to the creation
time of the DROP (via the <cite>lifespan</cite> keyword), or by specifying that the
DROP should be expired after all its consumers have finished (via the
<cite>expireAfterUse</cite> keyword). These two methods are mutually exclusive. If none
is specified no expiration occurs.</p>
<dl class="py method">
<dt id="dlg.drop.AbstractDROP.addConsumer">
<code class="sig-name descname">addConsumer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">consumer</span></em>, <em class="sig-param"><span class="n">back</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.addConsumer" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a consumer to this DROP.</p>
<p>Consumers are normally (but not necessarily) AppDROPs that get
notified when this DROP moves into the COMPLETED or ERROR states.
This is done by firing an event of type <cite>dropCompleted</cite> to which the
consumer subscribes to.</p>
<p>This is one of the key mechanisms by which the DROP graph is
executed automatically. If AppDROP B consumes DROP A, then
as soon as A transitions to COMPLETED B will be notified and will
probably start its execution.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.addProducer">
<code class="sig-name descname">addProducer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">producer</span></em>, <em class="sig-param"><span class="n">back</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.addProducer" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a producer to this DROP.</p>
<p>Producers are AppDROPs that write into this DROP; from the
producers’ point of view, this DROP is one of its many outputs.</p>
<p>When a producer has finished its execution, this DROP will be
notified via the self.producerFinished() method.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.addStreamingConsumer">
<code class="sig-name descname">addStreamingConsumer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">streamingConsumer</span></em>, <em class="sig-param"><span class="n">back</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.addStreamingConsumer" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a streaming consumer to this DROP.</p>
<p>Streaming consumers are AppDROPs that receive the data written
into this DROP <em>as it gets written</em>, and therefore do not need to
wait until this DROP has been moved to the COMPLETED state.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.cancel">
<code class="sig-name descname">cancel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves this drop to the CANCELLED state closing any writers we opened</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.checksum">
<em class="property">property </em><code class="sig-name descname">checksum</code><a class="headerlink" href="#dlg.drop.AbstractDROP.checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>The checksum value for the data represented by this DROP. Its
value is automatically calculated if the data was actually written
through this DROP (using the <cite>self.write()</cite> method directly or
indirectly). In the case that the data has been externally written, the
checksum can be set externally after the DROP has been moved to
COMPLETED or beyond.</p>
<dl class="field-list simple">
<dt class="field-odd">See</dt>
<dd class="field-odd"><p><cite>self.checksumType</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.checksumType">
<em class="property">property </em><code class="sig-name descname">checksumType</code><a class="headerlink" href="#dlg.drop.AbstractDROP.checksumType" title="Permalink to this definition">¶</a></dt>
<dd><p>The algorithm used to compute this DROP’s data checksum. Its value
if automatically set if the data was actually written through this
DROP (using the <cite>self.write()</cite> method directly or indirectly). In
the case that the data has been externally written, the checksum type
can be set externally after the DROP has been moved to COMPLETED
or beyond.</p>
<dl class="field-list simple">
<dt class="field-odd">See</dt>
<dd class="field-odd"><p><cite>self.checksum</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the given DROP descriptor, decreasing the DROP’s
internal reference count and releasing the underlying resources
associated to the descriptor.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.consumers">
<em class="property">property </em><code class="sig-name descname">consumers</code><a class="headerlink" href="#dlg.drop.AbstractDROP.consumers" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of ‘normal’ consumers held by this DROP.</p>
<dl class="field-list simple">
<dt class="field-odd">See</dt>
<dd class="field-odd"><p><cite>self.addConsumer()</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.dataURL">
<em class="property">abstract </em><code class="sig-name descname">dataURL</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.dataURL" title="Permalink to this definition">¶</a></dt>
<dd><p>A URL that points to the data referenced by this DROP. Different
DROP implementations will use different URI schemes.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.decrRefCount">
<code class="sig-name descname">decrRefCount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.decrRefCount" title="Permalink to this definition">¶</a></dt>
<dd><p>Decrements the reference count of this DROP by one atomically.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.executionMode">
<em class="property">property </em><code class="sig-name descname">executionMode</code><a class="headerlink" href="#dlg.drop.AbstractDROP.executionMode" title="Permalink to this definition">¶</a></dt>
<dd><p>The execution mode of this DROP. If <cite>ExecutionMode.DROP</cite> it means
that this DROP will automatically trigger the execution of all its
consumers. If <cite>ExecutionMode.EXTERNAL</cite> it means that this DROP
will <em>not</em> trigger its consumers, and therefore an external entity will
have to do it.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DROP exists indeed
in the underlying storage mechanism</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.getIO">
<em class="property">abstract </em><code class="sig-name descname">getIO</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.getIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of one of the <cite>dlg.io.DataIO</cite> instances that
handles the data contents of this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.get_consumers_nodes">
<code class="sig-name descname">get_consumers_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.get_consumers_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the physical node address(s) of the consumer of this drop.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.handleEvent">
<code class="sig-name descname">handleEvent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">e</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.handleEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles the arrival of a new event. Events are delivered from those
objects this DROP is subscribed to.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.handleInterest">
<code class="sig-name descname">handleInterest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">drop</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.handleInterest" title="Permalink to this definition">¶</a></dt>
<dd><p>Main mechanism through which a DROP handles its interest in a
second DROP it isn’t directly related to.</p>
<p>A call to this method should be expected for each DROP this
DROP is interested in. The default implementation does nothing,
but implementations are free to perform any action, such as subscribing
to events or storing information.</p>
<p>At this layer only the handling of such an interest exists. The
expression of such interest, and the invocation of this method wherever
necessary, is currently left as a responsibility of the entity creating
the DROPs. In the case of a Session in a DROPManager for
example this step would be performed using deployment-time information
contained in the dropspec dictionaries held in the session.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.incrRefCount">
<code class="sig-name descname">incrRefCount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.incrRefCount" title="Permalink to this definition">¶</a></dt>
<dd><p>Increments the reference count of this DROP by one atomically.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any specific subclass initialization.</p>
<p><cite>kwargs</cite> contains all the keyword arguments given at construction time,
except those used by the constructor itself. Implementations of this
method should make sure that arguments in the <cite>kwargs</cite> dictionary are
removed once they are interpreted so they are not interpreted by
accident by another method implementations that might reside in the call
hierarchy (in the case that a subclass implementation calls the parent
method implementation, which is usually the case).</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.isBeingRead">
<code class="sig-name descname">isBeingRead</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.isBeingRead" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the DROP is currently being read; <cite>False</cite>
otherwise</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.isCompleted">
<code class="sig-name descname">isCompleted</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.isCompleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether this DROP is currently in the COMPLETED state or not</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.oid">
<em class="property">property </em><code class="sig-name descname">oid</code><a class="headerlink" href="#dlg.drop.AbstractDROP.oid" title="Permalink to this definition">¶</a></dt>
<dd><p>The DROP’s Object ID (OID). OIDs are unique identifiers given to
semantically different DROPs (and by consequence the data they
represent). This means that different DROPs that point to the same
data semantically speaking, either in the same or in a different
storage, will share the same OID.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.open">
<code class="sig-name descname">open</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens the DROP for reading, and returns a “DROP descriptor”
that must be used when invoking the read() and close() methods.
DROPs maintain a internal reference count based on the number
of times they are opened for reading; because of that after a successful
call to this method the corresponding close() method must eventually be
invoked. Failing to do so will result in DROPs not expiring and
getting deleted.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.parent">
<em class="property">property </em><code class="sig-name descname">parent</code><a class="headerlink" href="#dlg.drop.AbstractDROP.parent" title="Permalink to this definition">¶</a></dt>
<dd><p>The DROP that acts as the parent of the current one. This
parent/child relationship is created by ContainerDROPs, which are
a specific kind of DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.phase">
<em class="property">property </em><code class="sig-name descname">phase</code><a class="headerlink" href="#dlg.drop.AbstractDROP.phase" title="Permalink to this definition">¶</a></dt>
<dd><p>This DROP’s phase. The phase indicates the resilience of a DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.precious">
<em class="property">property </em><code class="sig-name descname">precious</code><a class="headerlink" href="#dlg.drop.AbstractDROP.precious" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this DROP should be considered as ‘precious’ or not</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.producerFinished">
<code class="sig-name descname">producerFinished</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">drop_state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.producerFinished" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called each time one of the producers of this DROP finishes
its execution. Once all producers have finished this DROP moves to the
COMPLETED state (or to ERROR if one of the producers is on the ERROR
state).</p>
<p>This is one of the key mechanisms through which the execution of a
DROP graph is accomplished. If AppDROP A produces DROP
B, as soon as A finishes its execution B will be notified and will move
itself to COMPLETED.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.producers">
<em class="property">property </em><code class="sig-name descname">producers</code><a class="headerlink" href="#dlg.drop.AbstractDROP.producers" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of producers that write to this DROP</p>
<dl class="field-list simple">
<dt class="field-odd">See</dt>
<dd class="field-odd"><p><cite>self.addProducer()</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">4096</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads <cite>count</cite> bytes from the given DROP <cite>descriptor</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.setCompleted">
<code class="sig-name descname">setCompleted</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.setCompleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves this DROP to the COMPLETED state. This can be used when not all the
expected data has arrived for a given DROP, but it should still be moved
to COMPLETED, or when the expected amount of data held by a DROP
is not known in advanced.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.setError">
<code class="sig-name descname">setError</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.setError" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves this DROP to the ERROR state.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.size">
<em class="property">property </em><code class="sig-name descname">size</code><a class="headerlink" href="#dlg.drop.AbstractDROP.size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the data pointed by this DROP. Its value is
automatically calculated if the data was actually written through this
DROP (using the <cite>self.write()</cite> method directly or indirectly). In
the case that the data has been externally written, the size can be set
externally after the DROP has been moved to COMPLETED or beyond.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.status">
<em class="property">property </em><code class="sig-name descname">status</code><a class="headerlink" href="#dlg.drop.AbstractDROP.status" title="Permalink to this definition">¶</a></dt>
<dd><p>The current status of this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.streamingConsumers">
<em class="property">property </em><code class="sig-name descname">streamingConsumers</code><a class="headerlink" href="#dlg.drop.AbstractDROP.streamingConsumers" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of ‘streaming’ consumers held by this DROP.</p>
<dl class="field-list simple">
<dt class="field-odd">See</dt>
<dd class="field-odd"><p><cite>self.addStreamingConsumer()</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.uid">
<em class="property">property </em><code class="sig-name descname">uid</code><a class="headerlink" href="#dlg.drop.AbstractDROP.uid" title="Permalink to this definition">¶</a></dt>
<dd><p>The DROP’s Unique ID (UID). Unlike the OID, the UID is globally
different for all DROP instances, regardless of the data they
point to.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AbstractDROP.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AbstractDROP.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the given <cite>data</cite> into this DROP. This method is only meant
to be called while the DROP is in INITIALIZED or WRITING state;
once the DROP is COMPLETE or beyond only reading is allowed.
The underlying storage mechanism is responsible for implementing the
final writing logic via the <cite>self.writeMeta()</cite> method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.AppDROP">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">AppDROP</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AppDROP" title="Permalink to this definition">¶</a></dt>
<dd><p>An AppDROP is a DROP representing an application that reads data
from one or more DROPs (its inputs), and writes data onto one or more
DROPs (its outputs).</p>
<p>AppDROPs accept two different kind of inputs: “normal” and “streaming”
inputs. Normal inputs are DROPs that must be on the COMPLETED state
(and therefore their data must be fully written) before this application is
run, while streaming inputs are DROPs that feed chunks of data into
this application as the data gets written into them.</p>
<p>This class contains two methods that should be overwritten as needed by
subclasses: <cite>dropCompleted</cite>, invoked when input DROPs move to
COMPLETED, and <cite>dataWritten</cite>, invoked with the data coming from streaming
inputs.</p>
<p>How and when applications are executed is completely up to the user, and is
not enforced by this base class. Some applications might need to be run at
<cite>initialize</cite> time, while other might start during the first invocation of
<cite>dataWritten</cite>. A common scenario anyway is to start an application only
after all its inputs have moved to COMPLETED (implying that none of them is
an streaming input); for these cases see the <cite>BarrierAppDROP</cite>.</p>
<dl class="py method">
<dt id="dlg.drop.AppDROP.cancel">
<code class="sig-name descname">cancel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AppDROP.cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves this application drop to its CANCELLED state</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AppDROP.dataWritten">
<code class="sig-name descname">dataWritten</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AppDROP.dataWritten" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback invoked when <cite>data</cite> has been written into the DROP with
UID <cite>uid</cite> (which is one of the streaming inputs of this AppDROP).
By default no action is performed</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AppDROP.dropCompleted">
<code class="sig-name descname">dropCompleted</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">drop_state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AppDROP.dropCompleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback invoked when the DROP with UID <cite>uid</cite> (which is either a
normal or a streaming input of this AppDROP) has moved to the
COMPLETED or ERROR state. By default no action is performed.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AppDROP.execStatus">
<em class="property">property </em><code class="sig-name descname">execStatus</code><a class="headerlink" href="#dlg.drop.AppDROP.execStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>The execution status of this AppDROP</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AppDROP.handleEvent">
<code class="sig-name descname">handleEvent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">e</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AppDROP.handleEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles the arrival of a new event. Events are delivered from those
objects this DROP is subscribed to.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AppDROP.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.AppDROP.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any specific subclass initialization.</p>
<p><cite>kwargs</cite> contains all the keyword arguments given at construction time,
except those used by the constructor itself. Implementations of this
method should make sure that arguments in the <cite>kwargs</cite> dictionary are
removed once they are interpreted so they are not interpreted by
accident by another method implementations that might reside in the call
hierarchy (in the case that a subclass implementation calls the parent
method implementation, which is usually the case).</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AppDROP.inputs">
<em class="property">property </em><code class="sig-name descname">inputs</code><a class="headerlink" href="#dlg.drop.AppDROP.inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of inputs set into this AppDROP</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AppDROP.outputs">
<em class="property">property </em><code class="sig-name descname">outputs</code><a class="headerlink" href="#dlg.drop.AppDROP.outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of outputs set into this AppDROP</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.AppDROP.streamingInputs">
<em class="property">property </em><code class="sig-name descname">streamingInputs</code><a class="headerlink" href="#dlg.drop.AppDROP.streamingInputs" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of streaming inputs set into this AppDROP</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.BarrierAppDROP">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">BarrierAppDROP</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.BarrierAppDROP" title="Permalink to this definition">¶</a></dt>
<dd><p>A BarrierAppDROP is an InputFireAppDROP that waits for all its inputs to
complete, effectively blocking the flow of the graph execution.</p>
<dl class="py method">
<dt id="dlg.drop.BarrierAppDROP.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.BarrierAppDROP.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any specific subclass initialization.</p>
<p><cite>kwargs</cite> contains all the keyword arguments given at construction time,
except those used by the constructor itself. Implementations of this
method should make sure that arguments in the <cite>kwargs</cite> dictionary are
removed once they are interpreted so they are not interpreted by
accident by another method implementations that might reside in the call
hierarchy (in the case that a subclass implementation calls the parent
method implementation, which is usually the case).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.ContainerDROP">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">ContainerDROP</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.ContainerDROP" title="Permalink to this definition">¶</a></dt>
<dd><p>A DROP that doesn’t directly point to some piece of data, but instead
holds references to other DROPs (its children), and from them its own
internal state is deduced.</p>
<p>Because of its nature, ContainerDROPs cannot be written to directly,
and likewise they cannot be read from directly. One instead has to pay
attention to its “children” DROPs if I/O must be performed.</p>
<dl class="py method">
<dt id="dlg.drop.ContainerDROP.dataURL">
<code class="sig-name descname">dataURL</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.ContainerDROP.dataURL" title="Permalink to this definition">¶</a></dt>
<dd><p>A URL that points to the data referenced by this DROP. Different
DROP implementations will use different URI schemes.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.ContainerDROP.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.ContainerDROP.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.ContainerDROP.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.ContainerDROP.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DROP exists indeed
in the underlying storage mechanism</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.ContainerDROP.getIO">
<code class="sig-name descname">getIO</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.ContainerDROP.getIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of one of the <cite>dlg.io.DataIO</cite> instances that
handles the data contents of this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.ContainerDROP.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.ContainerDROP.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any specific subclass initialization.</p>
<p><cite>kwargs</cite> contains all the keyword arguments given at construction time,
except those used by the constructor itself. Implementations of this
method should make sure that arguments in the <cite>kwargs</cite> dictionary are
removed once they are interpreted so they are not interpreted by
accident by another method implementations that might reside in the call
hierarchy (in the case that a subclass implementation calls the parent
method implementation, which is usually the case).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.DirectoryContainer">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">DirectoryContainer</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.DirectoryContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>A ContainerDROP that represents a filesystem directory. It only allows
FileDROPs and DirectoryContainers to be added as children. Children
can only be added if they are placed directly within the directory
represented by this DirectoryContainer.</p>
<dl class="py method">
<dt id="dlg.drop.DirectoryContainer.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.DirectoryContainer.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.DirectoryContainer.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.DirectoryContainer.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DROP exists indeed
in the underlying storage mechanism</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.DirectoryContainer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.DirectoryContainer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any specific subclass initialization.</p>
<p><cite>kwargs</cite> contains all the keyword arguments given at construction time,
except those used by the constructor itself. Implementations of this
method should make sure that arguments in the <cite>kwargs</cite> dictionary are
removed once they are interpreted so they are not interpreted by
accident by another method implementations that might reside in the call
hierarchy (in the case that a subclass implementation calls the parent
method implementation, which is usually the case).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.FileDROP">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">FileDROP</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.FileDROP" title="Permalink to this definition">¶</a></dt>
<dd><p>A DROP that points to data stored in a mounted filesystem.</p>
<p>Users can (but usually don’t need to) specify both a <cite>filepath</cite> and a
<cite>dirname</cite> parameter for each FileDrop. The combination of these two parameters
will determine the final location of the file backed up by this drop on the
underlying filesystem. When no <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is provided, the drop’s UID will be
used as a filename. When a relative filepath is provided, it is relative to
<code class="docutils literal notranslate"><span class="pre">dirname</span></code>. When an absolute <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is given, it is used as-is.
When a relative <code class="docutils literal notranslate"><span class="pre">dirname</span></code> is provided, it is relative to the base directory
of the currently running session (i.e., a directory with the session ID as a
name, placed within the currently working directory of the Node Manager
hosting that session). If <code class="docutils literal notranslate"><span class="pre">dirname</span></code> is absolute, it is used as-is.</p>
<p>In some cases drops are created <strong>outside</strong> the context of a session, most
notably during unit tests. In these cases the base directory is a fixed
location under <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>.</p>
<p>The following table summarizes the calculation of the final path used by
the <code class="docutils literal notranslate"><span class="pre">FileDrop</span></code> class depending on its parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>.</p></th>
<th class="head" colspan="3"><p>filepath</p></th>
</tr>
<tr class="row-even"><th class="head"><p>dirname</p></th>
<th class="head"><p>empty</p></th>
<th class="head"><p>relative</p></th>
<th class="head"><p>absolute</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p><strong>empty</strong></p></td>
<td><p>/<code class="docutils literal notranslate"><span class="pre">$B</span></code>/<code class="docutils literal notranslate"><span class="pre">$u</span></code></p></td>
<td><p>/<code class="docutils literal notranslate"><span class="pre">$B</span></code>/<code class="docutils literal notranslate"><span class="pre">$f</span></code></p></td>
<td><p>/<code class="docutils literal notranslate"><span class="pre">$f</span></code></p></td>
</tr>
<tr class="row-even"><td><p><strong>relative</strong></p></td>
<td><p>/<code class="docutils literal notranslate"><span class="pre">$B</span></code>/<code class="docutils literal notranslate"><span class="pre">$d</span></code>/<code class="docutils literal notranslate"><span class="pre">$u</span></code></p></td>
<td><p>/<code class="docutils literal notranslate"><span class="pre">$B</span></code>/<code class="docutils literal notranslate"><span class="pre">$d</span></code>/<code class="docutils literal notranslate"><span class="pre">$f</span></code></p></td>
<td><p><strong>ERROR</strong></p></td>
</tr>
<tr class="row-odd"><td><p><strong>absolute</strong></p></td>
<td><p>/<code class="docutils literal notranslate"><span class="pre">$d</span></code>/<code class="docutils literal notranslate"><span class="pre">$u</span></code></p></td>
<td><p>/<code class="docutils literal notranslate"><span class="pre">$d</span></code>/<code class="docutils literal notranslate"><span class="pre">$f</span></code></p></td>
<td><p><strong>ERROR</strong></p></td>
</tr>
</tbody>
</table>
<p>In the table, <code class="docutils literal notranslate"><span class="pre">$f</span></code> is the value of <code class="docutils literal notranslate"><span class="pre">filepath</span></code>, <code class="docutils literal notranslate"><span class="pre">$d</span></code> is the value of
<code class="docutils literal notranslate"><span class="pre">dirname</span></code>, <code class="docutils literal notranslate"><span class="pre">$u</span></code> is the drop’s UID and <code class="docutils literal notranslate"><span class="pre">$B</span></code> is the base directory for
this drop’s session, namelly <code class="docutils literal notranslate"><span class="pre">/the/cwd/$session_id</span></code>.</p>
<dl class="py method">
<dt id="dlg.drop.FileDROP.dataURL">
<em class="property">property </em><code class="sig-name descname">dataURL</code><a class="headerlink" href="#dlg.drop.FileDROP.dataURL" title="Permalink to this definition">¶</a></dt>
<dd><p>A URL that points to the data referenced by this DROP. Different
DROP implementations will use different URI schemes.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.FileDROP.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.FileDROP.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the data represented by this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.FileDROP.getIO">
<code class="sig-name descname">getIO</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.FileDROP.getIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of one of the <cite>dlg.io.DataIO</cite> instances that
handles the data contents of this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.FileDROP.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.FileDROP.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>FileDROP-specific initialization.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.InMemoryDROP">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">InMemoryDROP</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.InMemoryDROP" title="Permalink to this definition">¶</a></dt>
<dd><p>A DROP that points data stored in memory.</p>
<dl class="py method">
<dt id="dlg.drop.InMemoryDROP.dataURL">
<em class="property">property </em><code class="sig-name descname">dataURL</code><a class="headerlink" href="#dlg.drop.InMemoryDROP.dataURL" title="Permalink to this definition">¶</a></dt>
<dd><p>A URL that points to the data referenced by this DROP. Different
DROP implementations will use different URI schemes.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.InMemoryDROP.getIO">
<code class="sig-name descname">getIO</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.InMemoryDROP.getIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of one of the <cite>dlg.io.DataIO</cite> instances that
handles the data contents of this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.InMemoryDROP.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.InMemoryDROP.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any specific subclass initialization.</p>
<p><cite>kwargs</cite> contains all the keyword arguments given at construction time,
except those used by the constructor itself. Implementations of this
method should make sure that arguments in the <cite>kwargs</cite> dictionary are
removed once they are interpreted so they are not interpreted by
accident by another method implementations that might reside in the call
hierarchy (in the case that a subclass implementation calls the parent
method implementation, which is usually the case).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.InputFiredAppDROP">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">InputFiredAppDROP</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.InputFiredAppDROP" title="Permalink to this definition">¶</a></dt>
<dd><p>An InputFiredAppDROP accepts no streaming inputs and waits until a given
amount of inputs (called <em>effective inputs</em>) have moved to COMPLETED to
execute its ‘run’ method, which must be overwritten by subclasses. This way,
this application allows to continue the execution of the graph given a
minimum amount of inputs being ready. The transitions of subsequent inputs
to the COMPLETED state have no effect.</p>
<p>Normally only one call to the <cite>run</cite> method will happen per application.
However users can override this by specifying a different number of tries
before finally giving up.</p>
<p>The amount of effective inputs must be less or equal to the amount of inputs
added to this application once the graph is being executed. The special
value of -1 means that all inputs are considered as effective, in which case
this class acts as a BarrierAppDROP, effectively blocking until all its
inputs have moved to the COMPLETED state.</p>
<p>An input error threshold controls the behavior of the application given an
error in one or more of its inputs (i.e., a DROP moving to the ERROR state).
The threshold is a value within 0 and 100 that indicates the tolerance
to erroneous effective inputs, and after which the application will not be
run but moved to the ERROR state itself instead.</p>
<dl class="py method">
<dt id="dlg.drop.InputFiredAppDROP.dropCompleted">
<code class="sig-name descname">dropCompleted</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">drop_state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.InputFiredAppDROP.dropCompleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback invoked when the DROP with UID <cite>uid</cite> (which is either a
normal or a streaming input of this AppDROP) has moved to the
COMPLETED or ERROR state. By default no action is performed.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.InputFiredAppDROP.execute">
<code class="sig-name descname">execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.InputFiredAppDROP.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually trigger the execution of this application.</p>
<p>This method is normally invoked internally when the application detects
all its inputs are COMPLETED.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.InputFiredAppDROP.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.InputFiredAppDROP.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DROP exists indeed
in the underlying storage mechanism</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.InputFiredAppDROP.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.InputFiredAppDROP.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any specific subclass initialization.</p>
<p><cite>kwargs</cite> contains all the keyword arguments given at construction time,
except those used by the constructor itself. Implementations of this
method should make sure that arguments in the <cite>kwargs</cite> dictionary are
removed once they are interpreted so they are not interpreted by
accident by another method implementations that might reside in the call
hierarchy (in the case that a subclass implementation calls the parent
method implementation, which is usually the case).</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.InputFiredAppDROP.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.InputFiredAppDROP.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run this application. It can be safely assumed that at this point all
the required inputs are COMPLETED.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.ListAsDict">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">ListAsDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">my_set</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.ListAsDict" title="Permalink to this definition">¶</a></dt>
<dd><p>A list that adds drop UIDs to a set as they get appended to the list</p>
<dl class="py method">
<dt id="dlg.drop.ListAsDict.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">object</span></em><span class="sig-paren">)</span> &#x2192; None – append object to end<a class="headerlink" href="#dlg.drop.ListAsDict.append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.NgasDROP">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">NgasDROP</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.NgasDROP" title="Permalink to this definition">¶</a></dt>
<dd><p>A DROP that points to data stored in an NGAS server</p>
<dl class="py method">
<dt id="dlg.drop.NgasDROP.dataURL">
<em class="property">property </em><code class="sig-name descname">dataURL</code><a class="headerlink" href="#dlg.drop.NgasDROP.dataURL" title="Permalink to this definition">¶</a></dt>
<dd><p>A URL that points to the data referenced by this DROP. Different
DROP implementations will use different URI schemes.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.NgasDROP.getIO">
<code class="sig-name descname">getIO</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.NgasDROP.getIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of one of the <cite>dlg.io.DataIO</cite> instances that
handles the data contents of this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.NgasDROP.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.NgasDROP.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any specific subclass initialization.</p>
<p><cite>kwargs</cite> contains all the keyword arguments given at construction time,
except those used by the constructor itself. Implementations of this
method should make sure that arguments in the <cite>kwargs</cite> dictionary are
removed once they are interpreted so they are not interpreted by
accident by another method implementations that might reside in the call
hierarchy (in the case that a subclass implementation calls the parent
method implementation, which is usually the case).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.NullDROP">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">NullDROP</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.NullDROP" title="Permalink to this definition">¶</a></dt>
<dd><p>A DROP that doesn’t store any data.</p>
<dl class="py method">
<dt id="dlg.drop.NullDROP.dataURL">
<em class="property">property </em><code class="sig-name descname">dataURL</code><a class="headerlink" href="#dlg.drop.NullDROP.dataURL" title="Permalink to this definition">¶</a></dt>
<dd><p>A URL that points to the data referenced by this DROP. Different
DROP implementations will use different URI schemes.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.NullDROP.getIO">
<code class="sig-name descname">getIO</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.NullDROP.getIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of one of the <cite>dlg.io.DataIO</cite> instances that
handles the data contents of this DROP.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dlg.drop.PathBasedDrop">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">PathBasedDrop</code><a class="headerlink" href="#dlg.drop.PathBasedDrop" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for data drops that handle paths (i.e., file and directory drops)</p>
</dd></dl>

<dl class="py class">
<dt id="dlg.drop.RDBMSDrop">
<em class="property">class </em><code class="sig-prename descclassname">dlg.drop.</code><code class="sig-name descname">RDBMSDrop</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.RDBMSDrop" title="Permalink to this definition">¶</a></dt>
<dd><p>A Drop that stores data in a table of a relational database</p>
<dl class="py method">
<dt id="dlg.drop.RDBMSDrop.dataURL">
<em class="property">property </em><code class="sig-name descname">dataURL</code><a class="headerlink" href="#dlg.drop.RDBMSDrop.dataURL" title="Permalink to this definition">¶</a></dt>
<dd><p>A URL that points to the data referenced by this DROP. Different
DROP implementations will use different URI schemes.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.RDBMSDrop.getIO">
<code class="sig-name descname">getIO</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.RDBMSDrop.getIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of one of the <cite>dlg.io.DataIO</cite> instances that
handles the data contents of this DROP.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.RDBMSDrop.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.RDBMSDrop.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any specific subclass initialization.</p>
<p><cite>kwargs</cite> contains all the keyword arguments given at construction time,
except those used by the constructor itself. Implementations of this
method should make sure that arguments in the <cite>kwargs</cite> dictionary are
removed once they are interpreted so they are not interpreted by
accident by another method implementations that might reside in the call
hierarchy (in the case that a subclass implementation calls the parent
method implementation, which is usually the case).</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.RDBMSDrop.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.RDBMSDrop.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts the values contained in the <code class="docutils literal notranslate"><span class="pre">vals</span></code> dictionary into the
underlying table. The keys of <code class="docutils literal notranslate"><span class="pre">vals</span></code> are used as the column names.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.drop.RDBMSDrop.select">
<code class="sig-name descname">select</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">condition</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vals</span><span class="o">=</span><span class="default_value">()</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.drop.RDBMSDrop.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the selected values from the table. Users can constrain the
result set by specifying a list of <code class="docutils literal notranslate"><span class="pre">columns</span></code> to be returned (otherwise
all table columns are returned) and a <code class="docutils literal notranslate"><span class="pre">condition</span></code> to be applied,
in which case a list of <code class="docutils literal notranslate"><span class="pre">vals</span></code> to be applied as query parameters can
also be given.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dlg.s3_drop">
<span id="dlg-s3-drop"></span><h2><a class="toc-backref" href="#id5">dlg.s3_drop</a><a class="headerlink" href="#module-dlg.s3_drop" title="Permalink to this headline">¶</a></h2>
<p>Drops that interact with AWS S3</p>
<dl class="py class">
<dt id="dlg.s3_drop.S3DROP">
<em class="property">class </em><code class="sig-prename descclassname">dlg.s3_drop.</code><code class="sig-name descname">S3DROP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oid</span></em>, <em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.s3_drop.S3DROP" title="Permalink to this definition">¶</a></dt>
<dd><p>A DROP that points to data stored in S3</p>
<dl class="py method">
<dt id="dlg.s3_drop.S3DROP.dataURL">
<em class="property">property </em><code class="sig-name descname">dataURL</code><a class="headerlink" href="#dlg.s3_drop.S3DROP.dataURL" title="Permalink to this definition">¶</a></dt>
<dd><p>A URL that points to the data referenced by this DROP. Different
DROP implementations will use different URI schemes.</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.s3_drop.S3DROP.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.s3_drop.S3DROP.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if the data represented by this DROP exists indeed
in the underlying storage mechanism</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.s3_drop.S3DROP.getIO">
<code class="sig-name descname">getIO</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.s3_drop.S3DROP.getIO" title="Permalink to this definition">¶</a></dt>
<dd><p>This type of DROP cannot be accessed directly
:return:</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.s3_drop.S3DROP.path">
<em class="property">property </em><code class="sig-name descname">path</code><a class="headerlink" href="#dlg.s3_drop.S3DROP.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the path to the S3 object
:return: the path</p>
</dd></dl>

<dl class="py method">
<dt id="dlg.s3_drop.S3DROP.size">
<code class="sig-name descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.s3_drop.S3DROP.size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the data pointed by this DROP. Its value is
automatically calculated if the data was actually written through this
DROP (using the <cite>self.write()</cite> method directly or indirectly). In
the case that the data has been externally written, the size can be set
externally after the DROP has been moved to COMPLETED or beyond.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dlg.droputils">
<span id="dlg-droputils"></span><h2><a class="toc-backref" href="#id6">dlg.droputils</a><a class="headerlink" href="#module-dlg.droputils" title="Permalink to this headline">¶</a></h2>
<p>Utility methods and classes to be used when interacting with DROPs</p>
<dl class="py class">
<dt id="dlg.droputils.DROPFile">
<em class="property">class </em><code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">DROPFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">drop</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.DROPFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A file-like object (currently only supporting the read() operation, more to
be added in the future) that wraps the DROP given at construction
time.</p>
<p>Depending on the underlying storage of the data the file-like object
returned by this method will directly access the data pointed by the
DROP if possible, or will access it through the DROP methods
instead.</p>
<p>Objects of this class will automatically close themselves when no referenced
anymore (i.e., when __del__ is called), but users should still try to invoke
<cite>close()</cite> eagerly to free underlying resources.</p>
<p>Objects of this class can also be used in a <cite>with</cite> context.</p>
</dd></dl>

<dl class="py class">
<dt id="dlg.droputils.DROPWaiterCtx">
<em class="property">class </em><code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">DROPWaiterCtx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">test</span></em>, <em class="sig-param"><span class="n">drops</span></em>, <em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">expected_states</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.DROPWaiterCtx" title="Permalink to this definition">¶</a></dt>
<dd><p>Class used by unit tests to trigger the execution of a physical graph and
wait until the given set of DROPs have reached its COMPLETED status.</p>
<p>It does so by appending an EvtConsumer consumer to each DROP before they are
used in the execution, and finally checking that the events have been set.
It should be used like this inside a test class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># There is a physical graph that looks like: a -&gt; b -&gt; c</span>
<span class="k">with</span> <span class="n">DROPWaiterCtx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">a</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">setCompleted</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="dlg.droputils.EvtConsumer">
<em class="property">class </em><code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">EvtConsumer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evt</span></em>, <em class="sig-param"><span class="n">expected_states</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.EvtConsumer" title="Permalink to this definition">¶</a></dt>
<dd><p>Small utility class that sets the internal flag of the given threading.Event
object when consuming a DROP. Used throughout the tests as a barrier to wait
until all DROPs of a given graph have executed.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.allDropContents">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">allDropContents</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">drop</span></em>, <em class="sig-param"><span class="n">bufsize</span><span class="o">=</span><span class="default_value">4096</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.allDropContents" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the data contained in a given DROP</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.breadFirstTraverse">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">breadFirstTraverse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">toVisit</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.breadFirstTraverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Breadth-first iterator for a DROP graph.</p>
<p>This iterator yields a tuple where the first item is the node being visited,
and the second is a list of nodes that will be visited subsequently.
Callers can alter this list in order to remove certain nodes from the
graph traversal process.</p>
<p>This implementation is non-recursive.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.copyDropContents">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">copyDropContents</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span></em>, <em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="n">bufsize</span><span class="o">=</span><span class="default_value">4096</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.copyDropContents" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually copies data from one DROP into another, in bufsize steps</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.depthFirstTraverse">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">depthFirstTraverse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">visited</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.depthFirstTraverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Depth-first iterator for a DROP graph.</p>
<p>This iterator yields a tuple where the first item is the node being visited,
and the second is a list of nodes that will be visited subsequently.
Callers can alter this list in order to remove certain nodes from the
graph traversal process.</p>
<p>This implementation is recursive.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.getDownstreamObjects">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">getDownstreamObjects</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">drop</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.getDownstreamObjects" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all direct “downstream” DROPs for the given
DROP. An DROP A is “downstream” with respect to DROP B if
any of the following conditions are true:
* A is an output of B (therefore B is an AppDROP)
* A is a normal or streaming consumer of B (and A is therefore an AppDROP)</p>
<p>In practice if A is a downstream DROP of B means that it cannot
advance to the COMPLETED state until B does so.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.getLeafNodes">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">getLeafNodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nodes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.getLeafNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all the “leaf nodes” of the graph pointed by <cite>nodes</cite>.
<cite>nodes</cite> is either a single DROP, or a list of DROPs.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.getUpstreamObjects">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">getUpstreamObjects</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">drop</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.getUpstreamObjects" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all direct “upstream” DROPs for the given
DROP. An DROP A is “upstream” with respect to DROP B if
any of the following conditions are true:</p>
<ul class="simple">
<li><p>A is a producer of B (therefore A is an AppDROP)</p></li>
<li><p>A is a normal or streaming input of B (and B is therefore an AppDROP)</p></li>
</ul>
<p>In practice if A is an upstream DROP of B means that it must be moved
to the COMPLETED state before B can do so.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.has_path">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">has_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.has_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>True</cite> if <cite>x</cite> has a <cite>path</cite> attribute</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.listify">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">listify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.listify" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>o</cite> is already a list return it as is; if <cite>o</cite> is a tuple returns a list
containing the elements contained in the tuple; otherwise returns a list
with <cite>o</cite> being its only element</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.replace_dataurl_placeholders">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">replace_dataurl_placeholders</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em>, <em class="sig-param"><span class="n">inputs</span></em>, <em class="sig-param"><span class="n">outputs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.replace_dataurl_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces any placeholder found in <code class="docutils literal notranslate"><span class="pre">cmd</span></code> with the dataURL property of the
respective input or output Drop from <code class="docutils literal notranslate"><span class="pre">inputs</span></code> or <code class="docutils literal notranslate"><span class="pre">outputs</span></code>.
Placeholders have the different formats:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">%iDataURLN</span></code>, with N starting from 0, indicates the path of the N-th
element from the <code class="docutils literal notranslate"><span class="pre">inputs</span></code> argument; likewise for <code class="docutils literal notranslate"><span class="pre">%oDataURLN</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%iDataURL[X]</span></code> indicates the path of the input with UID <code class="docutils literal notranslate"><span class="pre">X</span></code>; likewise
for <code class="docutils literal notranslate"><span class="pre">%oDataURL[X]</span></code>.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="dlg.droputils.replace_path_placeholders">
<code class="sig-prename descclassname">dlg.droputils.</code><code class="sig-name descname">replace_path_placeholders</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em>, <em class="sig-param"><span class="n">inputs</span></em>, <em class="sig-param"><span class="n">outputs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.droputils.replace_path_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces any placeholder found in <code class="docutils literal notranslate"><span class="pre">cmd</span></code> with the path of the respective
input or output Drop from <code class="docutils literal notranslate"><span class="pre">inputs</span></code> or <code class="docutils literal notranslate"><span class="pre">outputs</span></code>.
Placeholders have the different formats:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">%iN</span></code>, with N starting from 0, indicates the path of the N-th element
from the <code class="docutils literal notranslate"><span class="pre">inputs</span></code> argument; likewise for <code class="docutils literal notranslate"><span class="pre">%oN</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%i[X]</span></code> indicates the path of the input with UID <code class="docutils literal notranslate"><span class="pre">X</span></code>; likewise for
<code class="docutils literal notranslate"><span class="pre">%o[X]</span></code>.</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="module-dlg.utils">
<span id="dlg-utils"></span><h2><a class="toc-backref" href="#id7">dlg.utils</a><a class="headerlink" href="#module-dlg.utils" title="Permalink to this headline">¶</a></h2>
<p>Module containing miscellaneous utility classes and functions.</p>
<dl class="py class">
<dt id="dlg.utils.ZlibUncompressedStream">
<em class="property">class </em><code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">ZlibUncompressedStream</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">content</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.ZlibUncompressedStream" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that reads gzip-compressed content and returns uncompressed content
each time its read() method is called.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.browse_service">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">browse_service</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zc</span></em>, <em class="sig-param"><span class="n">service_type_name</span></em>, <em class="sig-param"><span class="n">protocol</span></em>, <em class="sig-param"><span class="n">callback</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.browse_service" title="Permalink to this definition">¶</a></dt>
<dd><p>ZeroConf: Browse for services based on service type and protocol</p>
<dl class="simple">
<dt>callback signature: callback(zeroconf, service_type, name, state_change)</dt><dd><p>zeroconf: ZeroConf object
service_type: zeroconf service
name: service name
state_change: ServiceStateChange type (Added, Removed)</p>
</dd>
</dl>
<p>Returns ZeroConf object</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.createDirIfMissing">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">createDirIfMissing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.createDirIfMissing" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the given directory if it doesn’t exist</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.deregister_service">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">deregister_service</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zc</span></em>, <em class="sig-param"><span class="n">info</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.deregister_service" title="Permalink to this definition">¶</a></dt>
<dd><p>ZeroConf: Deregister service</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.escapeQuotes">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">escapeQuotes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">singleQuotes</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">doubleQuotes</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.escapeQuotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Escapes single and double quotes in a string. Useful to include commands
in a shell invocation or similar.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.fname_to_pipname">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">fname_to_pipname</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.fname_to_pipname" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a graph filename (assuming it’s a .json file) to its “pipeline”
name (the basename without the extension).</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.getDlgDir">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">getDlgDir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.getDlgDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the root of the directory structure used by the DALiuGE framework at
runtime.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.getDlgLogsDir">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">getDlgLogsDir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.getDlgLogsDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the location of the directory used by the DALiuGE framework to store
its logs. If <cite>createIfMissing</cite> is True, the directory will be created if it
currently doesn’t exist</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.getDlgPidDir">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">getDlgPidDir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.getDlgPidDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the location of the directory used by the DALiuGE framework to store
its PIDs. If <cite>createIfMissing</cite> is True, the directory will be created if it
currently doesn’t exist</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.get_all_ipv4_addresses">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">get_all_ipv4_addresses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.get_all_ipv4_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all IPv4 interfaces found in this computer</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.get_local_ip_addr">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">get_local_ip_addr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.get_local_ip_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate all interfaces and return bound IP addresses (exclude localhost)</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.get_symbol">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">get_symbol</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.get_symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the global symbol <code class="docutils literal notranslate"><span class="pre">name</span></code>, which is an “absolute path” to a python
name in the form of <code class="docutils literal notranslate"><span class="pre">pkg.subpkg.subpkg.module.name</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.isabs">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">isabs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.isabs" title="Permalink to this definition">¶</a></dt>
<dd><p>Like os.path.isabs, but handles None</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.object_tracking">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">object_tracking</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.object_tracking" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a decorator that helps classes track which object is currently under
execution. This is done via a thread local object, which can be accessed via
the ‘tlocal’ attribute of the returned decorator.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.prepare_sql">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">prepare_sql</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sql</span></em>, <em class="sig-param"><span class="n">paramstyle</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">()</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.prepare_sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the given SQL statement for proper execution depending on the
parameter style supported by the database driver. For this the SQL statement
must be written using the “{X}” or “{}” placeholders in place for each,
parameter which is a style-agnostic parameter notation.</p>
<p>This method returns a tuple containing the prepared SQL statement and the
values to be bound into the query as required by the driver.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.register_service">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">register_service</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zc</span></em>, <em class="sig-param"><span class="n">service_type_name</span></em>, <em class="sig-param"><span class="n">service_name</span></em>, <em class="sig-param"><span class="n">ipaddr</span></em>, <em class="sig-param"><span class="n">port</span></em>, <em class="sig-param"><span class="n">protocol</span><span class="o">=</span><span class="default_value">'tcp'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.register_service" title="Permalink to this definition">¶</a></dt>
<dd><p>ZeroConf: Register service type, protocol, ipaddr and port</p>
<p>Returns ZeroConf object and ServiceInfo object</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.timed_import">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">timed_import</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">module_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.timed_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports <cite>module_name</cite> and log how long it took to import it</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.to_externally_contactable_host">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">to_externally_contactable_host</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">host</span></em>, <em class="sig-param"><span class="n">prefer_local</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.to_externally_contactable_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns <cite>host</cite>, which is an address used to bind a local service,
into a host that can be used to externally contact that service.</p>
<p>This should be used when there is no other way to find out how a client
to that service is going to connect to it.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.utils.zmq_safe">
<code class="sig-prename descclassname">dlg.utils.</code><code class="sig-name descname">zmq_safe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">host_or_addr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.utils.zmq_safe" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <cite>host_or_addr</cite> to a format that is safe for ZMQ to use</p>
</dd></dl>

</div>
<div class="section" id="module-dlg.graph_loader">
<span id="dlg-graph-loader"></span><h2><a class="toc-backref" href="#id8">dlg.graph_loader</a><a class="headerlink" href="#module-dlg.graph_loader" title="Permalink to this headline">¶</a></h2>
<p>Module containing functions to load a fully-functional DROP graph from its
full JSON representation.</p>
<dl class="py function">
<dt id="dlg.graph_loader.addLink">
<code class="sig-prename descclassname">dlg.graph_loader.</code><code class="sig-name descname">addLink</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">linkType</span></em>, <em class="sig-param"><span class="n">lhDropSpec</span></em>, <em class="sig-param"><span class="n">rhOID</span></em>, <em class="sig-param"><span class="n">force</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.graph_loader.addLink" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a link from <cite>lhDropSpec</cite> to point to <cite>rhOID</cite>. The link type (e.g., a
consumer) is signaled by <cite>linkType</cite>.</p>
</dd></dl>

<dl class="py function">
<dt id="dlg.graph_loader.loadDropSpecs">
<code class="sig-prename descclassname">dlg.graph_loader.</code><code class="sig-name descname">loadDropSpecs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dropSpecList</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlg.graph_loader.loadDropSpecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the DROP definitions from <cite>dropSpectList</cite>, checks that
the DROPs are correctly specified, and return a dictionary containing
all DROP specifications (i.e., a dictionary of dictionaries) keyed on
the OID of each DROP. Unlike <cite>readObjectGraph</cite> and <cite>readObjectGraphS</cite>,
this method doesn’t actually create the DROPs themselves.</p>
</dd></dl>

</div>
<div class="section" id="dlg-runtime-delayed">
<h2><a class="toc-backref" href="#id9">dlg.runtime.delayed</a><a class="headerlink" href="#dlg-runtime-delayed" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="manager.html" class="btn btn-neutral float-right" title="dlg.manager" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../api-index.html" class="btn btn-neutral float-left" title="API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2020, ICRAR

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>